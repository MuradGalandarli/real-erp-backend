2025-12-06 16:08:49.860 +04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 16:08:50.224 +04:00 [INF] Now listening on: https://localhost:7148
2025-12-06 16:08:50.224 +04:00 [INF] Now listening on: http://localhost:5116
2025-12-06 16:08:50.280 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 16:08:50.280 +04:00 [INF] Hosting environment: Development
2025-12-06 16:08:50.280 +04:00 [INF] Content root path: D:\GitHub test\real-erp-backend\Persentation\RealERP.Api
2025-12-06 16:08:50.990 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7148/swagger/index.html - null null
2025-12-06 16:08:51.311 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7148/swagger/index.html - 200 null text/html;charset=utf-8 328.037ms
2025-12-06 16:08:51.350 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7148/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 16:08:51.350 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7148/_vs/browserLink - null null
2025-12-06 16:08:51.356 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7148/_framework/aspnetcore-browser-refresh.js - 200 13774 application/javascript; charset=utf-8 6.0184ms
2025-12-06 16:08:51.397 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7148/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.785ms
2025-12-06 16:08:51.428 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7148/swagger/v1/swagger.json - null null
2025-12-06 16:08:51.489 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.0277ms
2025-12-06 16:11:48.793 +04:00 [INF] Request starting HTTP/2 DELETE https://localhost:7148/api/User/delete-user-by-email?email=usxssssser%40example.com - null null
2025-12-06 16:11:48.831 +04:00 [INF] CORS policy execution successful.
2025-12-06 16:11:50.180 +04:00 [INF] Executing endpoint 'RealERP.Api.Controllers.UserController.DeleteUser (RealERP.Api)'
2025-12-06 16:11:50.878 +04:00 [INF] Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.String) on controller RealERP.Api.Controllers.UserController (RealERP.Api).
2025-12-06 16:11:53.958 +04:00 [INF] Executed DbCommand (207ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[SurName], [a].[TwoFactorEnabled], [a].[UserName], [e].[Id], [e].[DepartmentId], [e].[FullName], [e].[Position], [e].[UserId], [d].[Id], [d].[Name]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[UserId]
LEFT JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
WHERE [a].[Email] = @__email_0
2025-12-06 16:11:57.563 +04:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-12-06 16:11:57.603 +04:00 [INF] Executed DbCommand (35ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Employees] SET [UserId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [AspNetUsers]
OUTPUT 1
WHERE [Id] = @p2 AND [ConcurrencyStamp] = @p3;
2025-12-06 16:12:31.718 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DepartmentId], [e].[FullName], [e].[Position], [e].[UserId]
FROM [Employees] AS [e]
WHERE [e].[Id] = @__id_0
2025-12-06 16:12:37.714 +04:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-12-06 16:12:37.731 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Employees]
OUTPUT 1
WHERE [Id] = @p0;
2025-12-06 16:12:41.080 +04:00 [INF] Executing OkObjectResult, writing value of type 'RealERP.Application.Abstraction.Features.Command.AppUser.DeleteUser.DeleteUserCommandResponse'.
2025-12-06 16:12:41.095 +04:00 [INF] Executed action RealERP.Api.Controllers.UserController.DeleteUser (RealERP.Api) in 50209.1654ms
2025-12-06 16:12:41.096 +04:00 [INF] Executed endpoint 'RealERP.Api.Controllers.UserController.DeleteUser (RealERP.Api)'
2025-12-06 16:12:41.118 +04:00 [INF] Request finished HTTP/2 DELETE https://localhost:7148/api/User/delete-user-by-email?email=usxssssser%40example.com - 200 null application/json; charset=utf-8 52324.8863ms
2025-12-06 16:15:40.170 +04:00 [INF] Request starting HTTP/2 DELETE https://localhost:7148/api/User/delete-user-by-email?email=w%40gmail.com - null null
2025-12-06 16:15:40.178 +04:00 [INF] CORS policy execution successful.
2025-12-06 16:15:40.180 +04:00 [INF] Executing endpoint 'RealERP.Api.Controllers.UserController.DeleteUser (RealERP.Api)'
2025-12-06 16:15:40.183 +04:00 [INF] Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.String) on controller RealERP.Api.Controllers.UserController (RealERP.Api).
2025-12-06 16:15:40.245 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[SurName], [a].[TwoFactorEnabled], [a].[UserName], [e].[Id], [e].[DepartmentId], [e].[FullName], [e].[Position], [e].[UserId], [d].[Id], [d].[Name]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Employees] AS [e] ON [a].[Id] = [e].[UserId]
LEFT JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
WHERE [a].[Email] = @__email_0
2025-12-06 16:15:40.253 +04:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-12-06 16:15:40.271 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
2025-12-06 16:15:40.273 +04:00 [INF] Executing OkObjectResult, writing value of type 'RealERP.Application.Abstraction.Features.Command.AppUser.DeleteUser.DeleteUserCommandResponse'.
2025-12-06 16:15:40.273 +04:00 [INF] Executed action RealERP.Api.Controllers.UserController.DeleteUser (RealERP.Api) in 90.5439ms
2025-12-06 16:15:40.274 +04:00 [INF] Executed endpoint 'RealERP.Api.Controllers.UserController.DeleteUser (RealERP.Api)'
2025-12-06 16:15:40.274 +04:00 [INF] Request finished HTTP/2 DELETE https://localhost:7148/api/User/delete-user-by-email?email=w%40gmail.com - 200 null application/json; charset=utf-8 106.2537ms
